!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("SNCrypto",[],r):"object"==typeof exports?exports.SNCrypto=r():e.SNCrypto=r()}(window,(function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s="./lib/main.js")}({"./lib/crypto/pure_crypto.js":
/*!***********************************!*\
  !*** ./lib/crypto/pure_crypto.js ***!
  \***********************************/
/*! exports provided: SNPureCrypto */function(e,r,t){"use strict";t.r(r),t.d(r,"SNPureCrypto",(function(){return u}));var n=t(/*! @Lib/utils */"./lib/utils.js");function o(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e)}var r,t,u;return r=e,(t=[{key:"generateUUIDSync",value:function(){return Object(n.generateUUIDSync)()}},{key:"generateUUID",value:function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(n.generateUUIDSync)());case 1:case"end":return e.stop()}}))}},{key:"timingSafeEqual",value:function(e,r){var t=String(e),n=String(r),o=t.length,u=0;o!==n.length&&(n=t,u=1);for(var a=0;a<o;a++)u|=t.charCodeAt(a)^n.charCodeAt(a);return 0===u}},{key:"base64",value:function(e){return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(n.getGlobalScope)().btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,r){return String.fromCharCode("0x"+r)}))));case 1:case"end":return r.stop()}}))}},{key:"base64Decode",value:function(e){return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(n.getGlobalScope)().atob(e));case 1:case"end":return r.stop()}}))}}])&&o(r.prototype,t),u&&o(r,u),e}()},"./lib/crypto/react_native_crypto.js":
/*!*******************************************!*\
  !*** ./lib/crypto/react_native_crypto.js ***!
  \*******************************************/
/*! exports provided: SNReactNativeCrypto */function(e,r,t){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,r){return!r||"object"!==n(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,r){return(c=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}t.r(r),t.d(r,"SNReactNativeCrypto",(function(){return i}));var i=function(e){function r(){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),u(this,a(r).apply(this,arguments))}var t,n,i;return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&c(e,r)}(r,e),t=r,(n=[{key:"setNativeModules",value:function(e){var r=e.aes,t=e.base64;this.Aes=r,this.base64=t}},{key:"generateUUID",value:function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.Aes.randomUuid().then((function(e){return e.toLowerCase()})));case 1:case"end":return e.stop()}}),null,this)}},{key:"pbkdf2",value:function(e,r,t,n){return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.Aes.pbkdf2(e,r,t,n).then((function(e){return e})));case 1:case"end":return o.stop()}}),null,this)}},{key:"generateRandomKey",value:function(e){return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.Aes.randomKey(e/8));case 1:case"end":return r.stop()}}),null,this)}},{key:"base64",value:function(e){return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.base64.encode(e));case 1:case"end":return r.stop()}}),null,this)}},{key:"base64Decode",value:function(e){return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.base64.decode(e));case 1:case"end":return r.stop()}}),null,this)}},{key:"sha256",value:function(e){return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",this.Aes.sha256(e));case 1:case"end":return r.stop()}}),null,this)}},{key:"hmac256",value:function(e,r){return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.Aes.hmac256(e,r));case 1:case"end":return t.stop()}}),null,this)}}])&&o(t.prototype,n),i&&o(t,i),r}(t(/*! ./pure_crypto */"./lib/crypto/pure_crypto.js").SNPureCrypto)},"./lib/crypto/webcrypto.js":
/*!*********************************!*\
  !*** ./lib/crypto/webcrypto.js ***!
  \*********************************/
/*! exports provided: SNWebCrypto */function(e,r,t){"use strict";t.r(r),t.d(r,"SNWebCrypto",(function(){return p}));var n=t(/*! ./pure_crypto */"./lib/crypto/pure_crypto.js"),o=t(/*! @Lib/utils */"./lib/utils.js");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,r){return!r||"object"!==u(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):r}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,r){return(s=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}var f=Object(o.getSubtleCrypto)(),p=function(e){function r(){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),c(this,i(r).apply(this,arguments))}var t,n,u;return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&s(e,r)}(r,e),t=r,(n=[{key:"pbkdf2",value:function(e){var r,t,n,o,u;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.password,t=e.salt,n=e.iterations,o=e.length,a.next=3,regeneratorRuntime.awrap(this.webCryptoImportKey(r,"PBKDF2",["deriveBits"]));case 3:if(u=a.sent){a.next=7;break}return console.log("Key is null, unable to continue"),a.abrupt("return",null);case 7:return a.abrupt("return",this.webCryptoDeriveBits(u,t,n,o));case 8:case"end":return a.stop()}}),null,this)}},{key:"generateRandomKey",value:function(e){var r,t;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e/8,t=Object(o.getGlobalScope)().crypto.getRandomValues(new Uint8Array(r)),n.abrupt("return",this.arrayBufferToHexString(t));case 3:case"end":return n.stop()}}),null,this)}},{key:"aes256CbcEncrypt",value:function(e,r,t){var n,o,u,a,c;return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n={name:"AES-CBC",iv:t},i.next=3,regeneratorRuntime.awrap(this.webCryptoImportKey(r,n.name,["encrypt"]));case 3:return o=i.sent,i.next=6,regeneratorRuntime.awrap(this.stringToArrayBuffer(e));case 6:return u=i.sent,i.next=9,regeneratorRuntime.awrap(crypto.subtle.encrypt(n,o,u));case 9:return a=i.sent,i.next=12,regeneratorRuntime.awrap(this.arrayBufferToBase64(a));case 12:return c=i.sent,i.abrupt("return",c);case 14:case"end":return i.stop()}}),null,this)}},{key:"aes256CbcDecrypt",value:function(e,r,t){var n,o,u,a=this;return regeneratorRuntime.async((function(c){for(;;)switch(c.prev=c.next){case 0:return n={name:"AES-CBC",iv:t},c.next=3,regeneratorRuntime.awrap(this.webCryptoImportKey(r,n.name,["decrypt"]));case 3:return o=c.sent,c.next=6,regeneratorRuntime.awrap(this.base64ToArrayBuffer(e));case 6:return u=c.sent,c.abrupt("return",crypto.subtle.decrypt(n,o,u).then((function(e){var r;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(a.arrayBufferToString(e));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}))})).catch((function(e){console.error("Error decrypting:",e)})));case 8:case"end":return c.stop()}}),null,this)}},{key:"aes256GcmEncrypt",value:function(e,r,t,n){var o,u,a,c,i;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:return o={name:"AES-GCM",iv:t},n&&(o.additionalData=n),s.next=4,regeneratorRuntime.awrap(this.webCryptoImportKey(r,o.name,["encrypt"]));case 4:return u=s.sent,s.next=7,regeneratorRuntime.awrap(this.stringToArrayBuffer(e));case 7:return a=s.sent,s.next=10,regeneratorRuntime.awrap(crypto.subtle.encrypt(o,u,a));case 10:return c=s.sent,s.next=13,regeneratorRuntime.awrap(this.arrayBufferToBase64(c));case 13:return i=s.sent,s.abrupt("return",i);case 15:case"end":return s.stop()}}),null,this)}},{key:"aes256GcmDecrypt",value:function(e,r,t,n){var o,u,a,c=this;return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return o={name:"AES-GCM",iv:t},n&&(o.additionalData=n),i.next=4,regeneratorRuntime.awrap(this.webCryptoImportKey(r,o.name,["decrypt"]));case 4:return u=i.sent,i.next=7,regeneratorRuntime.awrap(this.base64ToArrayBuffer(e));case 7:return a=i.sent,i.abrupt("return",crypto.subtle.decrypt(o,u,a).then((function(e){var r;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(c.arrayBufferToString(e));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}))})).catch((function(e){console.error("Error decrypting:",e)})));case 9:case"end":return i.stop()}}),null,this)}},{key:"hmac256",value:function(e,r){var t,n,o,u=this;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(this.hexStringToArrayBuffer(r));case 2:return t=a.sent,a.next=5,regeneratorRuntime.awrap(this.webCryptoImportKey(t,"HMAC",["sign"],{name:"SHA-256"}));case 5:return n=a.sent,a.next=8,regeneratorRuntime.awrap(this.stringToArrayBuffer(e));case 8:return o=a.sent,a.abrupt("return",crypto.subtle.sign({name:"HMAC"},n,o).then((function(e){var r;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(u.arrayBufferToHexString(e));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}))})).catch((function(e){console.error("Error computing hmac",e)})));case 10:case"end":return a.stop()}}),null,this)}},{key:"sha256",value:function(e){var r,t;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(this.stringToArrayBuffer(e));case 2:return r=n.sent,n.next=5,regeneratorRuntime.awrap(crypto.subtle.digest("SHA-256",r));case 5:return t=n.sent,n.abrupt("return",this.arrayBufferToHexString(t));case 7:case"end":return n.stop()}}),null,this)}},{key:"unsafe_sha1",value:function(e){var r,t;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(this.stringToArrayBuffer(e));case 2:return r=n.sent,n.next=5,regeneratorRuntime.awrap(crypto.subtle.digest("SHA-1",r));case 5:return t=n.sent,n.abrupt("return",this.arrayBufferToHexString(t));case 7:case"end":return n.stop()}}),null,this)}},{key:"webCryptoImportKey",value:function(e,r,t,n){var o;return regeneratorRuntime.async((function(u){for(;;)switch(u.prev=u.next){case 0:if("string"!=typeof e){u.next=6;break}return u.next=3,regeneratorRuntime.awrap(this.stringToArrayBuffer(e));case 3:u.t0=u.sent,u.next=7;break;case 6:u.t0=e;case 7:return o=u.t0,u.abrupt("return",f.importKey("raw",o,{name:r,hash:n},!1,t).then((function(e){return e})).catch((function(e){return console.error(e),null})));case 9:case"end":return u.stop()}}),null,this)}},{key:"webCryptoDeriveBits",value:function(e,r,t,n){var o,u=this;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(this.stringToArrayBuffer(r));case 2:return a.t0=a.sent,a.t1=t,a.t2={name:"SHA-512"},o={name:"PBKDF2",salt:a.t0,iterations:a.t1,hash:a.t2},a.abrupt("return",f.deriveBits(o,e,n).then((function(e){var r;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(u.arrayBufferToHexString(new Uint8Array(e)));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}))})).catch((function(e){return console.error(e),null})));case 7:case"end":return a.stop()}}),null,this)}},{key:"stringToArrayBuffer",value:function(e){return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,t){var n=new Blob([e]),o=new FileReader;o.onload=function(e){r(e.target.result)},o.readAsArrayBuffer(n)})));case 1:case"end":return r.stop()}}))}},{key:"arrayBufferToString",value:function(e){return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,t){var n=new Blob([e]),o=new FileReader;o.onload=function(e){r(e.target.result)},o.readAsText(n)})));case 1:case"end":return r.stop()}}))}},{key:"arrayBufferToHexString",value:function(e){var r,t,n,o;return regeneratorRuntime.async((function(u){for(;;)switch(u.prev=u.next){case 0:for(r=new Uint8Array(e),t="",o=0;o<r.byteLength;o++)(n=r[o].toString(16)).length<2&&(n="0"+n),t+=n;return u.abrupt("return",t);case 4:case"end":return u.stop()}}))}},{key:"hexStringToArrayBuffer",value:function(e){var r,t;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:for(r=[],t=0;t<e.length;t+=2)r.push(parseInt(e.substr(t,2),16));return n.abrupt("return",new Uint8Array(r));case 2:case"end":return n.stop()}}))}},{key:"base64ToArrayBuffer",value:function(e){var r,t,n,o;return regeneratorRuntime.async((function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,regeneratorRuntime.awrap(this.base64Decode(e));case 2:for(r=u.sent,t=r.length,n=new Uint8Array(t),o=0;o<t;o++)n[o]=r.charCodeAt(o);return u.abrupt("return",n.buffer);case 7:case"end":return u.stop()}}),null,this)}},{key:"arrayBufferToBase64",value:function(e){return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,t){var n=new Blob([e],{type:"application/octet-binary"}),o=new FileReader;o.onload=function(e){var t=e.target.result;r(t.substr(t.indexOf(",")+1))},o.readAsDataURL(n)})));case 1:case"end":return r.stop()}}))}}])&&a(t.prototype,n),u&&a(t,u),r}(n.SNPureCrypto)},"./lib/main.js":
/*!*********************!*\
  !*** ./lib/main.js ***!
  \*********************/
/*! exports provided: SNPureCrypto, SNWebCrypto, SNReactNativeCrypto, isWebCryptoAvailable */function(e,r,t){"use strict";t.r(r);var n=t(/*! ./crypto/pure_crypto */"./lib/crypto/pure_crypto.js");t.d(r,"SNPureCrypto",(function(){return n.SNPureCrypto}));var o=t(/*! ./crypto/webcrypto */"./lib/crypto/webcrypto.js");t.d(r,"SNWebCrypto",(function(){return o.SNWebCrypto}));var u=t(/*! ./crypto/react_native_crypto */"./lib/crypto/react_native_crypto.js");t.d(r,"SNReactNativeCrypto",(function(){return u.SNReactNativeCrypto}));var a=t(/*! ./utils */"./lib/utils.js");t.d(r,"isWebCryptoAvailable",(function(){return a.isWebCryptoAvailable}))},"./lib/utils.js":
/*!**********************!*\
  !*** ./lib/utils.js ***!
  \**********************/
/*! exports provided: getGlobalScope, ieOrEdge, isWebCryptoAvailable, getSubtleCrypto, generateUUIDSync */function(e,r,t){"use strict";t.r(r),function(e){function n(){return"undefined"!=typeof window?window:void 0!==e?e:null}function o(){return"undefined"!=typeof document&&document.documentMode||/Edge/.test(navigator.userAgent)}function u(){return!o()&&n().crypto&&n().crypto.subtle}function a(){return n().crypto?n().crypto.subtle:null}function c(){var e=n(),r=e.crypto||e.msCrypto;if(r){var t=new Uint32Array(4);r.getRandomValues(t);var o=-1;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){o++;var r=t[o>>3]>>o%8*4&15;return("x"==e?r:3&r|8).toString(16)}))}var u=(new Date).getTime();return e.performance&&"function"==typeof e.performance.now&&(u+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var r=(u+16*Math.random())%16|0;return u=Math.floor(u/16),("x"==e?r:3&r|8).toString(16)}))}t.d(r,"getGlobalScope",(function(){return n})),t.d(r,"ieOrEdge",(function(){return o})),t.d(r,"isWebCryptoAvailable",(function(){return u})),t.d(r,"getSubtleCrypto",(function(){return a})),t.d(r,"generateUUIDSync",(function(){return c}))}.call(this,t(/*! ./../node_modules/webpack/buildin/global.js */"./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */function(e,r){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":t(window))&&(n=window)}e.exports=n}})}));
//# sourceMappingURL=sncrypto.js.map